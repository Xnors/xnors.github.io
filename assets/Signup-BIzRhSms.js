import{r,c,a as e,b,t as x,j as i,v as d,g as _,u as C,k as U,f as m}from"./index-ILob0Bm9.js";import{_ as B,a as P}from"./_plugin-vue_export-helper-CpFNrKBp.js";import{c as k}from"./codes2msg-CBH-_RuK.js";const $={class:"signup-container"},M={class:"form-card"},N={key:0,class:"error-box"},S={key:1,class:"success-box"},T={class:"form-group"},z={class:"form-group"},A={class:"form-group"},D={class:"form-group"},E={class:"link-text"},Z={__name:"Signup",setup(j){const a=r(""),t=r(""),v=r(""),u=r(""),o=r(""),p=r("");var f=!1;const g=U(),w=()=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(o.value),y=()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.value),V=()=>{if(o.value!==p.value){a.value="两次输入的密码不一致",t.value="";return}if(!w(o.value)){a.value="密码长度最小为8位且必须包含数字和字母";return}if(!y(u.value)){a.value="请输入有效的邮箱地址";return}const n={username:v.value,email:u.value,password:o.value};f?t.value="已经注册成功了哦!":P.post("signup",n).then(s=>{a.value="",s.data.status===114514?(t.value="注册成功！即将跳转到登录页面...",f=!0,setTimeout(()=>{g.push("/login")},800)):(a.value=`注册失败: ${k(s.data.status)}`,t.value="")}).catch(s=>{a.value=`注册失败: ${k(s.response.data.status)}`,t.value=""})};return(n,s)=>(m(),c("div",$,[s[11]||(s[11]=e("div",{class:"background"},[e("div",{class:"circle circle1"}),e("div",{class:"circle circle2"}),e("div",{class:"circle circle3"})],-1)),e("div",M,[s[10]||(s[10]=e("h2",{class:"form-title"},"注册",-1)),a.value?(m(),c("div",N,x(a.value),1)):b("",!0),t.value?(m(),c("div",S,x(t.value),1)):b("",!0),e("div",T,[s[5]||(s[5]=e("label",{for:"username"},"用户名",-1)),i(e("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=l=>v.value=l),placeholder:"请输入用户名"},null,512),[[d,v.value]])]),e("div",z,[s[6]||(s[6]=e("label",{for:"email"},"邮箱",-1)),i(e("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=l=>u.value=l),placeholder:"请输入邮箱"},null,512),[[d,u.value]])]),e("div",A,[s[7]||(s[7]=e("label",{for:"password"},"密码",-1)),i(e("input",{type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=l=>o.value=l),placeholder:"请输入密码"},null,512),[[d,o.value]])]),e("div",D,[s[8]||(s[8]=e("label",{for:"confirmPassword"},"确认密码",-1)),i(e("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":s[3]||(s[3]=l=>p.value=l),placeholder:"请再次输入密码"},null,512),[[d,p.value]])]),e("button",{onClick:V,class:"btn-primary"},"注册"),e("p",E,[s[9]||(s[9]=_("已有账号? ",-1)),e("a",{onClick:s[4]||(s[4]=()=>C(g).push("/login"))},"点击登录")])])]))}},F=B(Z,[["__scopeId","data-v-bd99b504"]]);export{F as default};
