import{r,c as i,a as e,b as v,t as p,j as m,v as f,g as b,u as k,k as x,f as n}from"./index-DbrLzKkA.js";import{_ as w,a as y}from"./_plugin-vue_export-helper-R4xXpZnl.js";import{c as g}from"./codes2msg-CBH-_RuK.js";const V={class:"login-container"},C={class:"form-card"},B={key:0,class:"error-box"},M={key:1,class:"success-box"},N={class:"form-group"},T={class:"form-group"},h={class:"link-text"},D={__name:"Login",setup(L){const t=r(""),a=r(""),o=r(""),l=r(""),d=x(),_=()=>{if(!o.value||!l.value){t.value="用户名和密码不能为空",a.value="";return}const c={username:o.value,password:l.value};y.post("/login",c).then(s=>{s.data.status==114514?(t.value="",a.value="登录成功！即将跳转到主页...",setTimeout(()=>{d.push("/home")},1e3)):(t.value=`登录失败: ${g(s.data.status)}`,a.value="")}).catch(s=>{t.value=`登录失败: ${g(s.response.data.status)}`,a.value=""})};return(c,s)=>(n(),i("div",V,[s[7]||(s[7]=e("div",{class:"background"},[e("div",{class:"circle circle1"}),e("div",{class:"circle circle2"}),e("div",{class:"circle circle3"})],-1)),e("div",C,[s[6]||(s[6]=e("h2",{class:"form-title"},"登录",-1)),t.value?(n(),i("div",B,p(t.value),1)):v("",!0),a.value?(n(),i("div",M,p(a.value),1)):v("",!0),e("div",N,[s[3]||(s[3]=e("label",{for:"username"},"用户名",-1)),m(e("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),placeholder:"请输入用户名"},null,512),[[f,o.value]])]),e("div",T,[s[4]||(s[4]=e("label",{for:"password"},"密码",-1)),m(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=u=>l.value=u),placeholder:"请输入密码"},null,512),[[f,l.value]])]),e("button",{onClick:_,class:"btn-primary"},"登录"),e("p",h,[s[5]||(s[5]=b("还没有账号? ",-1)),e("a",{onClick:s[2]||(s[2]=()=>k(d).push("/signup"))},"点击注册")])])]))}},E=w(D,[["__scopeId","data-v-08ceb13d"]]);export{E as default};
