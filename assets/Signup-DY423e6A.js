import{r,c,a as s,b as x,t as b,i,v as d,g as V,u as _,l as C,f as m}from"./index-D2ugGGLN.js";import{_ as U,a as B}from"./_plugin-vue_export-helper-R4xXpZnl.js";const P={class:"signup-container"},M={class:"form-card"},N={key:0,class:"error-box"},S={key:1,class:"success-box"},T={class:"form-group"},z={class:"form-group"},A={class:"form-group"},D={class:"form-group"},E={class:"link-text"},Z={__name:"Signup",setup($){const a=r(""),l=r(""),v=r(""),u=r(""),o=r(""),p=r("");var f=!1;const g=C(),w=()=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(o.value),k=()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.value),y=()=>{if(o.value!==p.value){a.value="两次输入的密码不一致",l.value="";return}if(!w(o.value)){a.value="密码长度最小为8位且必须包含数字和字母";return}if(!k(u.value)){a.value="请输入有效的邮箱地址";return}const n={username:v.value,email:u.value,password:o.value};f?l.value="已经注册成功了哦!":B.post("signup",n).then(e=>{a.value="",e.data.status===114514?(l.value="注册成功！即将跳转到登录页面...",f=!0,setTimeout(()=>{g.push("/login")},800)):(a.value="登录失败,状态码"+e.data.status,l.value="")}).catch(e=>{e.response&&e.response.status!=200?a.value=e.response.data.error||"注册失败":a.value="啊?",l.value=""})};return(n,e)=>(m(),c("div",P,[e[11]||(e[11]=s("div",{class:"background"},[s("div",{class:"circle circle1"}),s("div",{class:"circle circle2"}),s("div",{class:"circle circle3"})],-1)),s("div",M,[e[10]||(e[10]=s("h2",{class:"form-title"},"注册",-1)),a.value?(m(),c("div",N,b(a.value),1)):x("",!0),l.value?(m(),c("div",S,b(l.value),1)):x("",!0),s("div",T,[e[5]||(e[5]=s("label",{for:"username"},"用户名",-1)),i(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>v.value=t),placeholder:"请输入用户名"},null,512),[[d,v.value]])]),s("div",z,[e[6]||(e[6]=s("label",{for:"email"},"邮箱",-1)),i(s("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t),placeholder:"请输入邮箱"},null,512),[[d,u.value]])]),s("div",A,[e[7]||(e[7]=s("label",{for:"password"},"密码",-1)),i(s("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t),placeholder:"请输入密码"},null,512),[[d,o.value]])]),s("div",D,[e[8]||(e[8]=s("label",{for:"confirmPassword"},"确认密码",-1)),i(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),placeholder:"请再次输入密码"},null,512),[[d,p.value]])]),s("button",{onClick:y,class:"btn-primary"},"注册"),s("p",E,[e[9]||(e[9]=V("已有账号? ",-1)),s("a",{onClick:e[4]||(e[4]=()=>_(g).push("/login"))},"点击登录")])])]))}},j=U(Z,[["__scopeId","data-v-9ad8a74d"]]);export{j as default};
