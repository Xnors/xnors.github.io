import{r as a,c,a as s,b as g,t as x,i,v as d,g as y,u as V,l as _,f as m}from"./index-CDxk8vW6.js";import{_ as C,a as U}from"./_plugin-vue_export-helper-DvFHi4d1.js";const B={class:"signup-container"},P={class:"form-card"},M={key:0,class:"error-box"},N={key:1,class:"success-box"},S={class:"form-group"},T={class:"form-group"},z={class:"form-group"},A={class:"form-group"},D={class:"link-text"},E={__name:"Signup",setup(Z){const l=a(""),r=a(""),p=a(""),u=a(""),t=a(""),v=a(""),f=_(),b=()=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(t.value),w=()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.value),k=()=>{if(t.value!==v.value){l.value="两次输入的密码不一致",r.value="";return}if(!b(t.value)){l.value="密码长度最小为8位且必须包含数字和字母";return}if(!w(u.value)){l.value="请输入有效的邮箱地址";return}const n={username:p.value,email:u.value,password:t.value};U.post("signup/",n).then(e=>{l.value="",e.status===200?(r.value="注册成功！即将跳转到登录页面...",setTimeout(()=>{f.push("/login")},1e3)):l.value=e.data.error||"注册失败"}).catch(e=>{e.response&&e.response.status!=200?l.value=e.response.data.error||"注册失败":l.value="啊?",r.value=""})};return(n,e)=>(m(),c("div",B,[e[11]||(e[11]=s("div",{class:"background"},[s("div",{class:"circle circle1"}),s("div",{class:"circle circle2"}),s("div",{class:"circle circle3"})],-1)),s("div",P,[e[10]||(e[10]=s("h2",{class:"form-title"},"注册",-1)),l.value?(m(),c("div",M,x(l.value),1)):g("",!0),r.value?(m(),c("div",N,x(r.value),1)):g("",!0),s("div",S,[e[5]||(e[5]=s("label",{for:"username"},"用户名",-1)),i(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),placeholder:"请输入用户名"},null,512),[[d,p.value]])]),s("div",T,[e[6]||(e[6]=s("label",{for:"email"},"邮箱",-1)),i(s("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),placeholder:"请输入邮箱"},null,512),[[d,u.value]])]),s("div",z,[e[7]||(e[7]=s("label",{for:"password"},"密码",-1)),i(s("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>t.value=o),placeholder:"请输入密码"},null,512),[[d,t.value]])]),s("div",A,[e[8]||(e[8]=s("label",{for:"confirmPassword"},"确认密码",-1)),i(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),placeholder:"请再次输入密码"},null,512),[[d,v.value]])]),s("button",{onClick:k,class:"btn-primary"},"注册"),s("p",D,[e[9]||(e[9]=y("已有账号? ",-1)),s("a",{onClick:e[4]||(e[4]=()=>V(f).push("/login"))},"点击登录")])])]))}},R=C(E,[["__scopeId","data-v-58798f9e"]]);export{R as default};
