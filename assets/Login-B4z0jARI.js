import{r as u,c as i,a as e,b as p,t as m,i as f,v as g,g as b,u as x,l as k,f as n}from"./index-D2ugGGLN.js";import{_ as w,a as y}from"./_plugin-vue_export-helper-R4xXpZnl.js";const V={class:"login-container"},C={class:"form-card"},B={key:0,class:"error-box"},M={key:1,class:"success-box"},N={class:"form-group"},T={class:"form-group"},h={class:"link-text"},D={__name:"Login",setup(L){const t=u(""),a=u(""),l=u(""),r=u(""),d=k(),_=()=>{if(!l.value||!r.value){t.value="用户名和密码不能为空",a.value="";return}const c={username:l.value,password:r.value};y.post("/login",c).then(s=>{s.data.status==114514?(t.value="",a.value="登录成功！即将跳转到主页...",setTimeout(()=>{d.push("/home")},1e3)):(t.value="登录失败,状态码"+s.data.status,a.value="")}).catch(s=>{var o,v;t.value=((v=(o=s.response)==null?void 0:o.data)==null?void 0:v.error)||s.message||"登录失败",a.value=""})};return(c,s)=>(n(),i("div",V,[s[7]||(s[7]=e("div",{class:"background"},[e("div",{class:"circle circle1"}),e("div",{class:"circle circle2"}),e("div",{class:"circle circle3"})],-1)),e("div",C,[s[6]||(s[6]=e("h2",{class:"form-title"},"登录",-1)),t.value?(n(),i("div",B,m(t.value),1)):p("",!0),a.value?(n(),i("div",M,m(a.value),1)):p("",!0),e("div",N,[s[3]||(s[3]=e("label",{for:"username"},"用户名",-1)),f(e("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>l.value=o),placeholder:"请输入用户名"},null,512),[[g,l.value]])]),e("div",T,[s[4]||(s[4]=e("label",{for:"password"},"密码",-1)),f(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>r.value=o),placeholder:"请输入密码"},null,512),[[g,r.value]])]),e("button",{onClick:_,class:"btn-primary"},"登录"),e("p",h,[s[5]||(s[5]=b("还没有账号? ",-1)),e("a",{onClick:s[2]||(s[2]=()=>x(d).push("/signup"))},"点击注册")])])]))}},I=w(D,[["__scopeId","data-v-a3dd063e"]]);export{I as default};
